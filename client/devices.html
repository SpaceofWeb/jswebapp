<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="content">
        <header>
            <ul class="nav">
                <li><a href="home.html">Главная</a></li>
                <li><a href="devices.html">Устройства</a></li>
                <li>SmartHome</li>
                <li><a href="macros.html">Макросы</a></li>
                <li><a href="auth.html">Выход</a></li>
            </ul>
        </header>
        <div class="main">
            <h2>Устройства</h2>
            <div class="devices">
                <div class="wrapper padded-centered" 
                onclick="($('p').text()=='open')?$('p').text('close') .css('background-color', 'rgba(255,0,0,0.5)'):$( 'p').text('open') .css('background-color', 'rgba(0,255,0,0.5)')">
                    <img class="img centered" src="img\dev\device1.jpg">
                <span>Электронный замок</span><p>open</p></div>
                <div class="wrapper padded-centered" onclick='checksState()'>
                    <img class="img centered" src="img\dev\device4.jpg">
                <span>Люстра</span></div>
                <div class="wrapper padded-centered" onclick='chseckState()'>
                    <img class="img centered" src="img\dev\device2.jpg">
                <span>Светильник</span></div>
                <div class="wrapper padded-centered" onclick='chesckState()'>
                    <img class="img centered" src="img\dev\device6.jpg">
                <span>Электрокарниз</span></div>
                <div class="wrapper padded-centered" onclick='chseckState()'>
                    <img class="img centered" src="img\dev\device5.jpg">
                <span>Датчик температуры</span></div>
                <div class="wrapper padded-centered" onclick='checkState()'>
                    <img class="img centered" src="img\dev\device3.jpg">
                <span>Термостат</span></div>
                <div class="lastChild" 
                onclick="($(this).text()=='on')?$(this).text('off'):$(this).text('on')">on</div>
            </div>
        </div>
    </div>
    <script>

        function checkState(){
            ($('p').text()=='open')?$('p').text('close') .css('background-color', 'rgba(255,0,0,0.5)'):$( 'p').text('open') .css('background-color', 'rgba(0,255,0,0.5)');
            // ($('p').text()=='on')?$('p').text('off') .css('background-color', 'rgba(255,0,0,0.5)'):$( 'p').text('on') .css('background-color', 'rgba(0,255,0,0.5)');
        }
        // $(document).on('click', (e)=>{
        //     console.log(e.target.textContent);

        //     if(e.target.textContent==='on'){e.target.textContent='off';console.log(1);
        //     }
        //     else e.target.textContent='on';
        //     // if(e.target.textContent==='open')e.target.textContent='close'
        //     // else e.target.textContent='open'
        //     // if($('.lastChild').text()=='on')$('.lastChild').text('off');
        //     // else $('.lastChild').text('on');
        // })
        // $(document).on('click', (e)=>{
        //     console.log(e);
            
        //     // if(e.target.textContent==='open')e.target.textContent='close'
        //     // else e.target.textContent='open'
        // })
    </script>
</body>
</html>
